@use "./sass/functions.scss" as f;
@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap");

* {
	font-family: "Roboto", sans-serif;
	padding: 0;
	margin: 0;
	box-sizing: border-box;
}

p {
	font-weight: 400;
}
:root {
	--body-color: #19161f;
	--white: white;
	--dark-brown: #6d6a70;
	--light-blue: #6780c0;
	--blue: #123996;
	--filter: hsla(260, 18%, 10%, 0.993);
}

$small-font: f.rem(12);
$font-medium: f.rem(15);

$breakpoints: (
	v-small: f.rem(450),
	small-m: f.rem(650),
	small: f.rem(550),
	medium: f.rem(760),
	medium-m: f.rem(850),
);

@mixin breakpoint-max($size) {
	@media (max-width: map-get($breakpoints,$size)) {
		@content;
	}
}

body {
	min-height: 100vh;
	background-color: var(--body-color);
	overflow-x: hidden;
}

.container {
	width: min(100% - f.rem(20), f.rem(1440));
	margin-inline: auto;
	display: grid;
	grid-template-areas:
		"aside header header"
		"aside main main"
		"aside main main"
		"aside footer footer";
	grid-template-columns: f.rem(240) auto f.rem(240);
	@include breakpoint-max(medium) {
		grid-template-areas:
			"header header header"
			"main main main"
			"main main main"
			"footer footer footer";
		grid-template-columns: f.rem(180) auto f.rem(240);
	}

	.header {
		height: 100%;
		grid-area: header;
		margin-bottom: f.rem(20);
		position: sticky;
		top: 0;
		z-index: 99;
		background-color: var(--filter);
		backdrop-filter: saturate(50%) blur(20px);
		-webkit-backdrop-filter: saturate(50%) blur(8px);

		.container {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: f.rem(20) f.rem(20) f.rem(20) f.rem(15);
			height: 100%;
			.menu {
				display: none;
				@include breakpoint-max(medium) {
					display: flex;
				}
			}
			a {
				cursor: pointer;
				&:hover {
					svg {
						fill: var(--white);
						transition: 0.3s ease;
					}
				}
			}
			nav {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: f.rem(30);
				a {
					text-decoration: none;
					color: var(--white);
					&:hover {
						color: var(--light-blue);
						transition: 0.3s ease;
					}
				}
			}
		}
	}
	.aside {
		grid-area: aside;
		position: sticky;
		top: f.rem(0);
		left: 0;
		height: 100vh;
		box-shadow: 1rem 0 1rem -1rem rgba(0, 0, 0, 0.3);
		@include breakpoint-max(medium) {
			display: none;
		}
		.container {
			width: 100%;
			display: flex;
			flex-direction: column;
			gap: f.rem(30);
			padding: f.rem(20) f.rem(10);
			height: 100%;
			.logo {
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: flex-start;
				h1 {
					font-weight: 600;
					color: var(--white);
				}
			}
			.nav_links {
				margin-top: f.rem(30);
				display: flex;
				flex-direction: column;
				height: f.rem(600);
				gap: f.rem(30);
				.first-nav {
					position: relative;
					&::before {
						content: "";
						position: absolute;
						bottom: f.rem(-15);
						left: 0;
						width: 100%;
						height: f.rem(1);
						background-color: var(--dark-brown);
						opacity: 0.3;
					}
				}
				h2 {
					font-weight: 400;
					font-size: $small-font;
					color: var(--dark-brown);
					margin-bottom: f.rem(5);
				}
				nav {
					display: flex;
					flex-direction: column;
					gap: f.rem(10);
					a {
						display: flex;
						align-items: center;
						gap: f.rem(7);
						cursor: pointer;
						text-decoration: none;
						color: var(--dark-brown);
						&.active {
							border-left: f.rem(2) solid var(--light-blue);
						}
						svg {
							margin-left: f.rem(10);
							svg {
								width: f.rem(25);
								height: f.rem(25);
							}
						}
						&:hover {
							color: var(--white);
							transition: 0.3s ease;
							svg {
								fill: var(--light-blue);
							}
						}
						a {
							color: var(--dark-brown);
							text-decoration: none;
							cursor: pointer;
							font-weight: 500;
						}
					}
				}
				.userLogged {
					display: flex;
					align-items: center;
					justify-content: flex-start;
					max-width: f.rem(200);
					width: 100%;
					gap: f.rem(11);
					position: relative;
					bottom: 0;
					margin-top: auto;
					margin-bottom: f.rem(30);
					a {
						color: var(--white);
						cursor: pointer;
					}

					.right {
						color: var(--white);
						a {
							h3 {
								font-size: f.rem(13);
								font-weight: 400;
								color: var(--white);
							}
							cursor: pointer;
							text-decoration: none;
						}
						span {
							font-size: $small-font;
							font-weight: 400;
							color: var(--dark-brown);
						}
					}
					.left {
						.img {
							width: f.rem(35);
							height: f.rem(35);
							object-fit: cover;
							border-radius: 100%;
							img {
								border-radius: 100%;
								width: 100%;
								height: 100%;
							}
						}
					}
				}
			}
		}
		@include breakpoint-max(small-m) {
			.container {
				.logo {
					h1 {
						display: none;
					}
				}
				.nav_links {
					nav {
						a {
							p {
								display: none;
							}
						}
					}
				}
			}
		}
		@include breakpoint-max(medium) {
			.container {
				.nav_links {
					nav {
						a {
							svg {
								width: f.rem(20);
								height: f.rem(20);
							}
						}
					}
				}

				.userLogged {
					display: none;
					.right {
						display: none;
					}
				}
			}
		}
	}

	.main {
		grid-area: main;
	}
	.footer {
		grid-area: footer;
		background-color: peru;
	}
}

// ============main==============

.main {
	height: 100%;
	display: grid;
	gap: f.rem(20);
	grid-template-columns: 1fr;
	grid-template-rows: repeat(3, auto) 400px;
	user-select: none;
}

.trending-section,
.top-rated-section,
.continueWatching-section {
	width: 100%;
}

.top-rated-section {
	background-color: blue;
}
.continueWatching-section {
	background-color: purple;
}

.trending-section {
	position: relative;
	h2 {
		margin-bottom: f.rem(20);
		color: var(--white);
		font-weight: 400;
		margin-left: f.rem(23);
	}
	.error {
		color: rgba(255, 0, 0, 0.89);
		font-weight: 500;
		font-size: f.rem(25);
		text-align: center;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		display: grid;
		place-content: center;
	}
	overflow: hidden;
	.swiper-container {
		height: 100%;
		.swiper-card {
			display: grid;
			overflow: hidden;
			width: 100%;
			max-width: f.rem(450);
			margin-inline: auto;
			border-radius: f.rem(25);
			height: fit-content;
			position: relative;

			&:hover {
				cursor: grab;
			}
			img {
				border-radius: f.rem(25);
				height: 100%;
				width: 100%;
				height: f.rem(300);
				object-fit: cover;
			}
			.onCard {
				padding: f.rem(20) f.rem(20) f.rem(20) f.rem(35);
				display: grid;
				grid-template-columns: auto auto;
				place-content: center;
				width: 100%;
				position: absolute;
				gap: f.rem(30);
				margin-inline: auto;
				top: 0;
				left: 0;
				height: 100%;
				background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6));

				.left {
					width: fit-content;
					.img {
						border-radius: f.rem(25);
						height: 100%;
						width: f.rem(170);
						img {
							border-radius: f.rem(25);
							width: 100%;
							height: 100%;
							object-fit: cover;
						}
						@include breakpoint-max(small) {
							width: f.rem(100);
						}
					}
				}
				.right {
					color: var(--white);
					display: grid;
					place-content: center;
					h3 {
						margin-bottom: f.rem(10);
						font-size: f.rem(25);
					}
					span {
						font-weight: 600;
						margin-bottom: f.rem(8);
					}
					p {
						font-weight: 300;
						font-size: f.rem(13);
						line-height: 1.4;
					}
					.attr {
						margin-top: f.rem(7);
						font-weight: 400;
						font-size: f.rem(12);
						display: flex;
						align-items: center;
						gap: f.rem(8);
						span {
							background-color: rgba(255, 255, 255, 0.301);
							padding: f.rem(5);
							border-radius: f.rem(3);
							// width: fit-content;
						}
						display: none;
					}
				}
				.buttons {
					margin-top: f.rem(20);
					display: flex;
					align-items: center;
					justify-content: flex-start;
					gap: f.rem(20);
					width: 100%;
					@include breakpoint-max(small) {
						flex-direction: column;
						gap: f.rem(10);
						align-items: flex-start;
					}
					button {
						cursor: pointer;
						padding: f.rem(9);
						color: var(--white);
						border-radius: f.rem(10);
						border: none;
						font-size: f.rem(15);
						&:hover {
							opacity: 0.86;
							transition: opacity 0.2s ease;
						}

						&:active {
							opacity: 1;
							transition: opacity 0.2s ease;
							transform: scale(0.96);
						}
					}
					.watch {
						background-color: var(--blue);
						@include breakpoint-max(v-small) {
							font-size: f.rem(12);
						}
					}
					.trailer {
						background-color: rgba(255, 255, 255, 0.411);
						@include breakpoint-max(v-small) {
							display: none;
						}
					}
				}
			}
		}
	}
}

.overlay {
	position: fixed;
	top: 0;
	left: 0;
	height: 100vh;
	width: 100%;
	color: white;
	font-size: 8rem;
	z-index: 100;
	background-color: #020005da;
	.close {
		display: inline-block;
		align-items: center;
		width: 100%;
		margin-bottom: f.rem(20);
		transform: translateY(-150px);
		justify-content: flex-end;
	}
	&:hover {
		.close {
			transform: translate(0);
			transition: transform 0.3s ease;
		}
	}
}

.slider {
	width: 100%;
}

// =============sidebar============
.sidebar {
	display: none;
}

@include breakpoint-max(medium) {
	.sidebar {
		position: fixed;
		top: 0;
		right: 0;
		width: 70%;
		height: 100vh;
		overflow: hidden;
		background-color: var(--filter);
		backdrop-filter: saturate(50%) blur(20px);
		-webkit-backdrop-filter: saturate(50%) blur(8px);
		display: block;
		transform: translateX(100%);
		.container {
			width: 100%;
			display: flex;
			flex-direction: column;
			justify-content: flex-start !important;
			gap: f.rem(0);
			padding: f.rem(20) f.rem(10);
			height: 100%;
			.close {
				width: 100%;
				display: flex;
				justify-content: flex-end;
				margin-top: f.rem(30);
				&:hover {
					cursor: pointer;
				}
			}
			.logo {
				cursor: pointer;
				display: flex;
				align-items: center;
				// justify-content: flex-start;
				h1 {
					font-weight: 600;
					color: var(--white);
				}
			}
			.nav_links {
				margin-top: f.rem(30);
				display: flex;
				flex-direction: column;
				// align-items: flex-start;
				height: auto;
				gap: f.rem(35);
				.first-nav {
					position: relative;
					&::before {
						content: "";
						position: absolute;
						bottom: f.rem(-15);
						left: 0;
						width: 100%;
						height: f.rem(1);
						background-color: var(--dark-brown);
						opacity: 0.3;
					}
				}
				h2 {
					font-weight: 400;
					font-size: $small-font;
					color: var(--dark-brown);
					margin-bottom: f.rem(5);
				}
				nav {
					display: flex;
					flex-direction: column;
					align-items: flex-start;
					gap: f.rem(10);
					a {
						display: flex;
						align-items: center;
						gap: f.rem(7);
						cursor: pointer;
						text-decoration: none;
						color: var(--dark-brown);
						&.active {
							border-left: f.rem(2) solid var(--light-blue);
						}
						svg {
							margin-left: f.rem(10);
							svg {
								width: f.rem(25);
								height: f.rem(25);
							}
						}
						&:hover {
							color: var(--white);
							transition: 0.3s ease;
							svg {
								fill: var(--light-blue);
							}
						}
						a {
							color: var(--dark-brown);
							text-decoration: none;
							cursor: pointer;
							font-weight: 500;
						}
					}
				}
				.userLogged {
					display: flex;
					align-items: center;
					justify-content: flex-start;
					max-width: f.rem(200);
					width: 100%;
					gap: f.rem(11);
					position: relative;
					bottom: 0;
					margin-top: auto;
					margin-bottom: f.rem(30);
					a {
						color: var(--white);
						cursor: pointer;
					}

					.right {
						color: var(--white);
						a {
							h3 {
								font-size: f.rem(13);
								font-weight: 400;
								color: var(--white);
							}
							cursor: pointer;
							text-decoration: none;
						}
						span {
							font-size: $small-font;
							font-weight: 400;
							color: var(--dark-brown);
						}
					}
					.left {
						.img {
							width: f.rem(35);
							height: f.rem(35);
							object-fit: cover;
							border-radius: 100%;
							img {
								border-radius: 100%;
								width: 100%;
								height: 100%;
							}
						}
					}
				}
			}
		}
	}

	.show {
		transform: translateX(0);
	}
}
